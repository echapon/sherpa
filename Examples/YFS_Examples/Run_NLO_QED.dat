% pp -> Z/g -> ee: NLO QED in YFS
(run){
  % general settings
  EVENTS 1M;

  ME_SIGNAL_GENERATORS Internal;
  SCALES VAR{sqr(91.1876)};
  % collider setup
  BEAM_1 2212; BEAM_ENERGY_1 6500.;
  BEAM_2 2212; BEAM_ENERGY_2 6500.;

  % Set YFS_MODE=2 to calculate corrections to soft approximation
  YFS_MODE=2;
  YFS_IR_CUTOFF=0.1;
  YFS_1/ALPHAQED=128.;

  % set YFS_USE_ME=1 to obtain full matrix elements
  % YFS_EW_CORRECTIONS=0 means only QED corrections are taken into account in ME
  % YFS_NNLO_QED=0 means only NLO corrections are calculated (this is the default)
  YFS_USE_ME=1;
  YFS_EW_CORRECTIONS=0;
  YFS_NNLO_QED=0;

  % For some MEs, the virtual correction can be calculated in the limit of s >> m^2 with m the mass of the decay product. Default is 0.
  YFS_SMALL_MASS_LIMIT=0;
    
  % ensure lepton masses are set
  MASSIVE[11] 1;
  MASSIVE[13] 1;
  MASSIVE[15] 1;

  % to turn off parton shower, cannot use SHOWER_GENERATOR=None since that would result in no YFS correction at all
  % hence set maximum number of CSS emissions to 0
  CSS_MAXEM=0;
  BEAM_REMNANTS=0;
  ME_QED=On;
  MI_HANDLER None;
  FRAGMENTATION=Off;
}(run)

(processes){
  Process 93 93 -> 11 -11;
  Order (*,2);
  End process;
}(processes)

(analysis){
  BEGIN_RIVET {
    -a MC_Zee
  }  END_RIVET
}(analysis)

(selector){
 Mass 11 -11 65. 115.
}(selector)